#!/bin/sh

# Prints all batteries, their percentage remaining and an emoji corresponding
# to charge status (ğŸ”Œ for plugged up, ğŸ”‹ for discharging on battery, etc.).

case $BLOCK_BUTTON in
	3) notify-send "ğŸ”‹ Battery module" "ğŸ”‹: discharging
ğŸ›‘: not charging
â™»: stagnant charge
ğŸ”Œ: charging
âš¡: charged
â—: battery very low!
- Scroll to change adjust xbacklight." ;;
	4) xbacklight -inc 10 ;;
	5) xbacklight -dec 10 ;;
	6) "$TERMINAL" -e "$EDITOR" "$0" ;;
esac
#battery=$("/sys/class/power_supply/BAT0")
# Sets up the status and capacity
capacity="$(cat /sys/class/power_supply/BAT0/capacity)"
case "$(cat "/sys/class/power_supply/BAT0/status" 2>&1)" in
	"Full") status="ó±Ÿ¢ " ;;
	"Discharging") 
		case 1 in 
			$((capacity>=95)) ) status="ó±Ÿ¢ " ;; 
			$((capacity>=90)) ) status="ó°‚‚ " ;;
			$((capacity>=80)) ) status="ó°‚ " ;;
			$((capacity>=60)) ) status="ó°‚€ " ;;
			$((capacity>=65)) ) status="ó°¿ " ;;
			$((capacity>=50)) ) status="ó°¾ " ;;
			$((capacity>=40)) ) status="ó°½ " ;;
			$((capacity>=30)) ) status="ó°¼ " ;;
			$((capacity>=20)) ) status="ó°» " ;;
			*) status="ó°‚ ";;
		esac
		;;
	"Charging") status="ó°‚„ " ;;
	"Not charging") status="ó±Ÿ¤ " ;;
	"Unknown") status="ó°‚ƒ " ;;
	*) exit 1 ;;
esac
capacity="$(cat "/sys/class/power_supply/BAT0/capacity" 2>&1)"
# Will make a warn variable if discharging and low
[ "$status" = "ó°‚€" ] && [ "$capacity" -le 25 ] && warn="â—"
# Prints the info
printf "%s%s%d%%\n" "$status" "$warn" "$capacity"; unset warn
